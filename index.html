<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>9роорпН ро╡роХрпБрокрпНрокрпБ тАФ роХрогро┐род ро╡ро┐ройро╛ ро╡роЩрпНроХро┐ (10 роородро┐рокрпНрокрпЖрогрпН)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
  body{font-family:"Noto Sans Tamil",sans-serif;background:#f9fafb;padding:20px;color:#222;text-align:center;}
  h1{color:#006699;margin-bottom:10px;}
  .info-box input{padding:8px;margin:5px;border-radius:6px;border:1px solid #aaa;width:80%;max-width:400px;}
  .card{background:#fff;border-radius:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1);padding:20px;margin:auto;max-width:700px;text-align:left;}
  button{background:#0084ff;border:none;color:#fff;padding:10px 20px;margin:10px;border-radius:8px;cursor:pointer;font-size:16px;}
  button:hover{background:#006edc;}
  .option-btn{display:block;width:100%;margin:8px 0;background:#e0f2ff;color:#111;text-align:left;padding:10px;border-radius:6px;border:1px solid #bde0ff;}
  #scoreboard,#timer{font-size:18px;margin-bottom:8px;color:#333;}
  #feedback{color:#006600;margin-top:10px;font-weight:bold;}
  .footer{margin-top:15px;color:#555;font-size:14px;}
  .small{color:#555;font-size:13px;}
</style>
</head>
<body>

<h1>ЁЯУШ 9роорпН ро╡роХрпБрокрпНрокрпБ роХрогро┐род родрпЗро░рпНро╡рпБ (10 роородро┐рокрпНрокрпЖрогрпН)</h1>

<!-- STUDENT INFO -->
<div class="info-box" id="infoBox">
  <h3>рооро╛рогро╡ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h3>
  <input type="text" id="studentName" placeholder="рокрпЖропро░рпН"><br>
  <input type="text" id="studentClass" placeholder="ро╡роХрпБрокрпНрокрпБ рооро▒рпНро▒рпБроорпН рокро┐ро░ро┐ро╡рпБ (роО.роХро╛., 9A)"><br>
  <input type="text" id="studentSchool" placeholder="рокро│рпНро│ро┐ рокрпЖропро░рпН"><br>
  <!-- REQUIRED: keeps start from failing -->
  <input type="date" id="quizDate"><br><br>
  <button id="startBtn" onclick="startQuiz()">родрпКроЯроЩрпНроХрпБ тЮбя╕П</button>
</div>

<!-- QUIZ AREA -->
<div id="quizArea" style="display:none;">
  <div id="scoreboard">роородро┐рокрпНрокрпЖрогрпН: 0 / 10</div>
  <div id="timer">тП▒я╕П роирпЗро░роорпН: 60</div>
  <div id="quiz" class="card"></div>
  <div id="feedback"></div>
  <div style="margin-top:8px;">
    <button id="nextBtn" onclick="nextQuestion()">роЕроЯрпБродрпНрод ро╡ро┐ройро╛ тЮбя╕П</button>
    <button id="downloadBtn" style="display:none;" onclick="downloadPDF()">ЁЯУД PDF рокродро┐ро╡ро┐ро▒роХрпНроХ</button>
  </div>
</div>

<script>
/* ====== FULL QUESTION BANK (Tamil) ====== */
const bank = [
  { sentence:"50000 + 300 + 70 + 5 роЗройрпН роЪрпБро░рпБроЩрпНроХро┐роп ро╡роЯро┐ро╡роорпН.", chapter:"роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ", options:["53750","50375","53075","57305"], answerText:"50375", explanation:"50000+300+70+5 = 50375." },
  { sentence:"826 роЗройрпН ро╡ро┐ро░ро┐ро╡ро╛роХрпНроХ ро╡роЯро┐ро╡роорпН?", chapter:"роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ", options:["800+20+6","820+6","80+26","8+26"], answerText:"800+20+6", explanation:"826 = 800 + 20 + 6." },
  { sentence:"рооро┐роХроЪрпН роЪро┐ро▒ро┐роп роОроЯрпНроЯроХрпНроХ роОрогрпН роОродрпБ?", chapter:"роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ", options:["10000000","9999999","1000000","11111111"], answerText:"10000000", explanation:"1роХрпНроХрпБ рокро┐ройрпН 7 рокрпВроЬрпНроЬро┐ропроЩрпНроХро│рпН = 10000000." },

  { sentence:"35 рооро▒рпНро▒рпБроорпН 28 роЗро╡ро▒рпНро▒ро┐ро▓рпН рокрпЖро░ро┐роп роОрогрпН роОродрпБ?", chapter:"роОрогрпНроХро│рпИ роТрокрпНрокро┐роЯрпБродро▓рпН", options:["28","35","25","38"], answerText:"35", explanation:"35 > 28" },
  { sentence:"6735, 4378, 6753, 4387 роЗро╡ро▒рпНро▒ро┐ро▓рпН рооро┐роХрокрпНрокрпЖро░ро┐роп роОрогрпН роОродрпБ?", chapter:"роОрогрпНроХро│рпИ роТрокрпНрокро┐роЯрпБродро▓рпН", options:["6753","6735","4387","4378"], answerText:"6753", explanation:"6753 is greatest." },

  { sentence:"45 + 33 = ?", chapter:"роХрпВроЯрпНроЯро▓рпН", options:["68","78","76","66"], answerText:"78", explanation:"45 + 33 = 78." },
  { sentence:"233 + 125 = ?", chapter:"роХрпВроЯрпНроЯро▓рпН", options:["358","348","363","354"], answerText:"358", explanation:"233+125=358" },

  { sentence:"26 тИТ 14 = ?", chapter:"роХро┤ро┐родрпНродро▓рпН", options:["10","12","11","14"], answerText:"12", explanation:"26 тИТ 14 = 12." },
  { sentence:"374 тИТ 122 = ?", chapter:"роХро┤ро┐родрпНродро▓рпН", options:["252","254","251","253"], answerText:"252", explanation:"374тИТ122=252" },

  { sentence:"8 ├Ч 2 = ?", chapter:"рокрпЖро░рпБроХрпНроХро▓рпН", options:["16","18","14","10"], answerText:"16", explanation:"8├Ч2=16" },
  { sentence:"78 ├Ч 57 = ?", chapter:"рокрпЖро░рпБроХрпНроХро▓рпН", options:["4446","4450","4420","4470"], answerText:"4446", explanation:"78├Ч57=4446" },

  { sentence:"7ройрпН ро╡ро░рпНроХрпНроХ роОрогрпН роОродрпБ?", chapter:"ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН", options:["49","14","7","77"], answerText:"49", explanation:"7├Ч7=49" },
  { sentence:"64 роОройрпНрокродрпБ роОроирпНрод роОрогрпНрогро┐ройрпН ро╡ро░рпНроХрпНроХроорпН?", chapter:"ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН", options:["6","7","8","9"], answerText:"8", explanation:"8├Ч8=64" },

  { sentence:"2 рооро▒рпНро▒рпБроорпН 3 роЗройрпН LCM роорпАроЪрпНроЪро┐ро▒рпБ рокрпКродрпБ роороЯроЩрпНроХрпБ роОродрпБ?", chapter:"LCM/HCF", options:["6","5","12","9"], answerText:"6", explanation:"LCM(2,3)=6" },
  { sentence:"15 рооро▒рпНро▒рпБроорпН 25 роЗройрпН HCF рооро┐роХрокрпН рокрпЖро░ро┐роп роХро╛ро░рогро┐ роОродрпБ?", chapter:"LCM/HCF", options:["5","10","15","20"], answerText:"5", explanation:"HCF=5" },

  { sentence:"32 ├╖ 4 = ?", chapter:"ро╡роХрпБродрпНродро▓рпН", options:["8","6","9","7"], answerText:"8", explanation:"32├╖4=8" },
  { sentence:"975 ├╖ 25 = ?", chapter:"ро╡роХрпБродрпНродро▓рпН", options:["39","37","40","41"], answerText:"39", explanation:"975├╖25=39" },

  { sentence:"(1/2) ├Ч (7/3) = ?", chapter:"рокро┐ройрпНрой роОрогрпНроХро│рпН", options:["13/27","7/6","1/14","3/14"], answerText:"7/6", explanation:"(1├Ч7)/(2├Ч3)=7/6" },
  { sentence:"7/2 роЗройрпН родроЪроо ро╡роЯро┐ро╡роорпН?", chapter:"рокро┐ройрпНрой роОрогрпНроХро│рпН", options:["3.5","1.75","2.5","3.25"], answerText:"3.5", explanation:"7├╖2=3.5" },

  { sentence:"1532 ├╖ 100 роЗройрпН родроЪроо ро╡роЯро┐ро╡роорпН?", chapter:"родроЪроо роОрогрпНроХро│рпН", options:["1.532","15.32","153.2","1532"], answerText:"15.32", explanation:"1532/100=15.32" },
  { sentence:"1750 рооро┐ро▓рпНро▓ро┐ = ? ро▓ро┐роЯрпНроЯро░рпН", chapter:"роЕро│ро╡рпБроХро│рпН", options:["1 1/2 ро▓ро┐","1 1/4 ро▓ро┐","1 3/4 ро▓ро┐","2 ро▓ро┐"], answerText:"1 3/4 ро▓ро┐", explanation:"1750 ml = 1.75 L = 1 3/4 L" },

  { sentence:"10 роЪрпЖ.роорпА ├Ч 7 роЪрпЖ.роорпА роЖрой роЪрпЖро╡рпНро╡роХродрпНродро┐ройрпН роЪрпБро▒рпНро▒ро│ро╡рпБ?", chapter:"роиро┐ро▓ро╡ро┐ропро▓рпН", options:["34 роЪрпЖ.роорпА","30 роЪрпЖ.роорпА","32 роЪрпЖ.роорпА","28 роЪрпЖ.роорпА"], answerText:"34 роЪрпЖ.роорпА", explanation:"2(l+b)=2(10+7)=34" },
  { sentence:"10 роЪрпЖ.роорпА ├Ч 5 роЪрпЖ.роорпА роЖрой роЪрпЖро╡рпНро╡роХродрпНродро┐ройрпН рокро░рокрпНрокро│ро╡рпБ?", chapter:"рокро░рокрпНрокро│ро╡рпБ", options:["50 роЪрпЖ.роорпА┬▓","25","40","60"], answerText:"50 роЪрпЖ.роорпА┬▓", explanation:"Area=10├Ч5=50" },

  { sentence:"роорпКродрпНродроорпН 45, роОрогрпНрогро┐роХрпНроХрпИ 9 роОройрпНро▒ро╛ро▓рпН mean роЪро░ро╛роЪро░ро┐?", chapter:"рокрпБро│рпНро│ро┐ропро┐ропро▓рпН", options:["5","6","4","7"], answerText:"5", explanation:"45/9=5" },
  { sentence:"2,4,4,5,5,5,6,6,7 роЗройрпН mode роорпБроХроЯрпБ роОродрпБ?", chapter:"рокрпБро│рпНро│ро┐ропро┐ропро▓рпН", options:["5","6","4","7"], answerText:"5", explanation:"5 роЕродро┐роХроорпНродрпЛройрпНро▒рпБроорпН" },

  { sentence:"роорпБроХрокрпНрокрпБроХрпНроХро│ро┐ройрпН (triangle) роЙро│рпНро│роХ роХрпЛрогроЩрпНроХро│ро┐ройрпН роХрпВроЯрпНроЯрпБродрпНродрпКроХрпИ?", chapter:"роорпБроХрпНроХрпЛрогроорпН", options:["180┬░","90┬░","270┬░","360┬░"], answerText:"180┬░", explanation:"Triangle sum=180┬░" },
  { sentence:"3 рооро▒рпНро▒рпБроорпН 4 роЙроЯрпИроп рокрпИродроХрпЛро░ро╕рпН роиро┐ро▓рпИ c = ?", chapter:"рокрпИродроХрпЛро░ро╕рпН", options:["5","4","6","7"], answerText:"5", explanation:"тИЪ(3┬▓+4┬▓)=5" },

  { sentence:"121 роОроирпНрод роОрогрпНрогро╛ро▓рпН ро╡роХрпБрокроЯрпБроорпН?", chapter:"ро╡роХрпБрокроЯрпБроорпН родройрпНроорпИ", options:["5","7","9","11"], answerText:"11", explanation:"121=11├Ч11" },
  { sentence:"(тИТ15) ├Ч 7 = ?", chapter:"роорпБро┤рпБ роОрогрпНроХро│рпН", options:["105","тИТ105","тИТ8","8"], answerText:"тИТ105", explanation:"Negative├Чpositive=negative" },

  { sentence:"48 ├Ч 15 = ?", chapter:"рокрпЖро░рпБроХрпНроХро▓рпН", options:["720","820","620","7120"], answerText:"720", explanation:"48├Ч15=720" },
  { sentence:"25 ├Ч 15 = ?", chapter:"рокрпЖро░рпБроХрпНроХро▓рпН", options:["375","325","350","400"], answerText:"375", explanation:"25├Ч15=375" },

  { sentence:"роЕро░рпИ ро╡роЯрпНроЯродрпНродро┐ройрпН роЖро░роорпН r=10cm роЖроХро┐ро▓рпН ро╡ро┐роЯрпНроЯроорпН?", chapter:"ро╡роЯрпНроЯроорпН", options:["10 cm","20 cm","5 cm","15 cm"], answerText:"20 cm", explanation:"diameter=2r" },

  { sentence:"x + 7 = 12 роОройрпНро▒ро╛ро▓рпН x = ?", chapter:"роЪрооройрпНрокро╛роЯрпБ", options:["5","4","3","6"], answerText:"5", explanation:"x=12тИТ7=5" },
  { sentence:"3x + 2, x=4 роЗро▒рпНроХрпБ роородро┐рокрпНрокрпБ?", chapter:"роЪро╛ро░рпНрокро┐ропро▓рпН", options:["14","12","10","16"], answerText:"14", explanation:"3├Ч4+2=14" },

  { sentence:"64 роОройрпНрокродрпБ ро╡ро░рпНроХрпНроХ роОрогрпН родро╛ройро╛?", chapter:"ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН", options:["роЖроорпН","роЗро▓рпНро▓рпИ","рокроЯрпНроЪроорпН","родрпЖро░ро┐ропро╛родрпБ"], answerText:"роЖроорпН", explanation:"8├Ч8=64" },
  { sentence:"9 рооро▒рпНро▒рпБроорпН 12 роЗройрпН LCM роорпА.роЪро┐.рокрпК.роо роОродрпБ?", chapter:"LCM/HCF", options:["36","24","48","18"], answerText:"36", explanation:"LCM=36" },

  { sentence:"(1/4)+(3/4) = ?", chapter:"рокро┐ройрпНрой роОрогрпНроХро│рпН", options:["1","3/4","1/2","2"], answerText:"1", explanation:"1/4+3/4=1" },

  { sentence:"1532/100 родроЪроо ро╡роЯро┐ро╡роорпН?", chapter:"родроЪроо роОрогрпНроХро│рпН", options:["15.32","1.532","153.2","1532"], answerText:"15.32", explanation:"1532├╖100=15.32" },

  { sentence:"-------роОройрпНрокродрпБ 8├Ч9 роОройро┐ро▓рпН роЕродрпБ роОродрпБ?", chapter:"роОрогрпНроХро│рпН", options:["72","89","16","1"], answerText:"72", explanation:"8├Ч9=72" },

  { sentence:"1000 рооро┐.роорпА = ? роЪрпЖ.роорпА", chapter:"роЕро│ро╡рпБроХро│рпН", options:["1 роЪрпЖ.роорпА","100 роЪрпЖ.роорпА","0.1 роЪрпЖ.роорпА","10 роЪрпЖ.роорпА"], answerText:"1 роЪрпЖ.роорпА", explanation:"1000 mm = 100 cm" }
];
/* ========================================= */

let student = {};
let questions = [];
let currentIndex = 0;
let current = null;
let score = 0;
let timer = null;
let timeLeft = 60;
let answers = [];

const TIME_PER_QUESTION = 60;

/* ---------- Better Tamil font: load and embed into jsPDF at runtime ---------- */
let tamilFontB64 = null;
async function ensureTamilFontLoaded() {
  if (tamilFontB64) return;
  // NotoSansTamil Regular TTF from official googlefonts repo
  const fontUrl = "https://raw.githubusercontent.com/googlefonts/noto-fonts/main/hinted/ttf/NotoSansTamil/NotoSansTamil-Regular.ttf";
  const res = await fetch(fontUrl);
  const buf = await res.arrayBuffer();
  // Convert ArrayBuffer to Base64
  const bytes = new Uint8Array(buf);
  let binary = "";
  for (let i = 0; i < bytes.length; i++) binary += String.fromCharCode(bytes[i]);
  tamilFontB64 = btoa(binary);
}

/* ---------- Utilities ---------- */
function gradeFromPercent(p) {
  if (p >= 90) return "A+";
  if (p >= 80) return "A";
  if (p >= 70) return "B";
  if (p >= 60) return "C";
  if (p >= 50) return "D";
  return "F";
}

/* ---------- Quiz flow ---------- */
function startQuiz() {
  // collect inputs
  student.name = (document.getElementById("studentName").value || "").trim();
  student.class = (document.getElementById("studentClass").value || "").trim();
  student.school = (document.getElementById("studentSchool").value || "").trim();
  student.date = (document.getElementById("quizDate").value || "").trim();

  if (!student.name || !student.class || !student.school || !student.date) {
    alert("тЭЧ роЕройрпИродрпНродрпИропрпБроорпН роиро┐ро░рокрпНрокро╡рпБроорпН (рокрпЖропро░рпН, ро╡роХрпБрокрпНрокрпБ, рокро│рпНро│ро┐, родрпЗродро┐).");
    return;
  }

  // pick 10 random
  const count = Math.min(10, bank.length);
  questions = bank.slice().sort(() => 0.5 - Math.random()).slice(0, count);

  // show quiz area
  document.getElementById("infoBox").style.display = "none";
  document.getElementById("quizArea").style.display = "block";

  score = 0;
  currentIndex = 0;
  answers = [];

  nextQuestion();
}

function nextQuestion() {
  clearInterval(timer);

  if (currentIndex >= questions.length) {
    finishQuiz();
    return;
  }

  current = questions[currentIndex];
  timeLeft = TIME_PER_QUESTION;

  document.getElementById("scoreboard").textContent = `роородро┐рокрпНрокрпЖрогрпН: ${score} / 10`;
  document.getElementById("timer").textContent = `тП▒я╕П роирпЗро░роорпН: ${timeLeft}`;

  const quiz = document.getElementById("quiz");
  quiz.innerHTML = `
    <h3>${currentIndex + 1}. ${current.sentence}</h3>
    <p class="small"><b>роЕро▓роХрпБ:</b> ${current.chapter}</p>
    ${current.options.map(o =>
      `<button class="option-btn" onclick="checkAnswer('${o.replace(/'/g, "\\'")}')">${o}</button>`
    ).join("")}
    <p class="small">роХро╛ро▓ ро╡ро░роорпНрокрпБ: ${TIME_PER_QUESTION} ро╡ро┐ройро╛роЯро┐роХро│рпН</p>
  `;

  // start countdown
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").textContent = `тП▒я╕П роирпЗро░роорпН: ${timeLeft}`;
    if (timeLeft <= 0) {
      clearInterval(timer);
      recordAnswer("роирпЗро░роорпН роорпБроЯро┐роирпНродродрпБ", false);
      alert("тП░ роирпЗро░роорпН роорпБроЯро┐роирпНродродрпБ!\nроЪро░ро┐ропро╛рой рокродро┐ро▓рпН: " + current.answerText);
      currentIndex++;
      nextQuestion();
    }
  }, 1000);
}

function checkAnswer(option) {
  clearInterval(timer);
  const wasCorrect = option === current.answerText;
  if (wasCorrect) score++;
  recordAnswer(option, wasCorrect);

  if (wasCorrect) {
    alert("тЬЕ роЪро░ро┐ропро╛рой рокродро┐ро▓рпН!\nро╡ро┐ро│роХрпНроХроорпН: " + current.explanation);
  } else {
    alert("тЭМ родро╡ро▒рпБ!\nроЪро░ро┐ропро╛рой рокродро┐ро▓рпН: " + current.answerText + "\nро╡ро┐ро│роХрпНроХроорпН: " + current.explanation);
  }
  currentIndex++;
  nextQuestion();
}

function recordAnswer(selected, correct=false) {
  answers.push({
    question: current.sentence,
    yourAnswer: selected,
    correctAnswer: current.answerText,
    isCorrect: correct
  });
}

function finishQuiz() {
  clearInterval(timer);

  const pct = Math.round((score/10)*100);
  const grade = gradeFromPercent(pct);

  document.getElementById("quiz").innerHTML = `
    <h2>ЁЯОЙ рокро░рпАроЯрпНроЪрпИ роорпБроЯро┐роирпНродродрпБ!</h2>
    <p>роородро┐рокрпНрокрпЖрогрпН: ${score} / 10</p>
    <p>роЪродро╡рпАродроорпН: ${pct}%</p>
    <p>роородро┐рокрпНрокрпАроЯрпБ: ${grade}</p>
    <p class="small">PDF роР рокродро┐ро╡ро┐ро▒роХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ рокроЯрпНроЯройрпИ роЕро┤рпБродрпНродро╡рпБроорпН.</p>
  `;

  document.getElementById("nextBtn").style.display = "none";
  document.getElementById("downloadBtn").style.display = "inline-block";
}

/* ---------- PDF (async) with better Tamil font ---------- */
async function downloadPDF() {
  const { jsPDF } = window.jspdf;
  await ensureTamilFontLoaded(); // fetch & embed font once

  const doc = new jsPDF({ orientation: "p", unit: "mm", format: "a4" });

  // Register & select the Tamil font
  doc.addFileToVFS("NotoSansTamil-Regular.ttf", tamilFontB64);
  doc.addFont("NotoSansTamil-Regular.ttf", "NotoSansTamil", "normal");
  doc.setFont("NotoSansTamil");
  doc.setFont("NotoSansTamil-VariableFont_wdth,wght.ttf", NotoSansTamil");

  let y = 15;
  doc.setFontSize(14);
  doc.text("9роорпН ро╡роХрпБрокрпНрокрпБ тАФ роХрогро┐род (10 роородро┐рокрпНрокрпЖрогрпН) роорпБроЯро┐ро╡рпБ", 20, y); y += 8;

  doc.setFontSize(11);
  doc.text(`рокрпЖропро░рпН: ${student.name}`, 10, y); y += 6;
  doc.text(`ро╡роХрпБрокрпНрокрпБ/рокро┐ро░ро┐ро╡рпБ: ${student.class}`, 10, y); y += 6;
  doc.text(`рокро│рпНро│ро┐: ${student.school}`, 10, y); y += 6;
  doc.text(`родрпЗродро┐: ${student.date}`, 10, y); y += 8;

  answers.forEach((a, i) => {
    if (y > 270) { doc.addPage(); doc.setFont("NotoSansTamil"); y = 15; }
    doc.text(`${i+1}. ${a.question}`, 10, y); y += 6;
    doc.text(`   роЙроЩрпНроХро│рпН рокродро┐ро▓рпН: ${a.yourAnswer}`, 12, y); y += 5;
    doc.text(`   роЪро░ро┐ропро╛рой рокродро┐ро▓рпН: ${a.correctAnswer}`, 12, y); y += 5;
    doc.text(`   роиро┐ро▓рпИ: ${a.isCorrect ? "тЬЕ роЪро░ро┐" : "тЭМ родро╡ро▒рпБ"}`, 12, y); y += 7;
  });

  y += 4;
  const pct = Math.round((score/10)*100);
  const grade = gradeFromPercent(pct);
  doc.text(`роорпКродрпНрод роородро┐рокрпНрокрпЖрогрпН: ${score} / 10`, 10, y); y += 6;
  doc.text(`роЪродро╡рпАродроорпН: ${pct}%`, 10, y); y += 6;
  doc.text(`роородро┐рокрпНрокрпАроЯрпБ: ${grade}`, 10, y); y += 6;

  doc.save(`${student.name || 'student'}_Maths_10mark_Report.pdf`);
}

/* Optional: Preload the Tamil font early so first PDF is instant */
ensureTamilFontLoaded().catch(()=>{ /* ignore if offline; will retry on download */ });
</script>

<div class="footer">┬й 2025 Thiraviya Kumar | Class 9 Tamil Medium Maths Quiz</div>
</body>
</html>
