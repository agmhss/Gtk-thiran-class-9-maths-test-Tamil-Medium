<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>9роорпН ро╡роХрпБрокрпНрокрпБ тАФ роХрогро┐род ро╡ро┐ройро╛ ро╡роЩрпНроХро┐ (10 роородро┐рокрпНрокрпЖрогрпН)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
  body{font-family:"Noto Sans Tamil",sans-serif;background:#f9fafb;padding:20px;color:#222;text-align:center;}
  h1{color:#006699;margin-bottom:10px;}
  .info-box input{padding:8px;margin:5px;border-radius:6px;border:1px solid #aaa;width:80%;max-width:400px;}
  .card{background:#fff;border-radius:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1);padding:20px;margin:auto;max-width:700px;text-align:left;}
  button{background:#0084ff;border:none;color:#fff;padding:10px 20px;margin:10px;border-radius:8px;cursor:pointer;font-size:16px;}
  button:hover{background:#006edc;}
  .option-btn{display:block;width:100%;margin:8px 0;background:#e0f2ff;color:#111;text-align:left;padding:10px;border-radius:6px;border:1px solid #bde0ff;}
  #scoreboard,#timer{font-size:18px;margin-bottom:8px;color:#333;}
  .footer{margin-top:15px;color:#555;font-size:14px;}
  .small{color:#555;font-size:13px;}
</style>
</head>

<body>
<h1>ЁЯУШ 9роорпН ро╡роХрпБрокрпНрокрпБ роХрогро┐род родрпЗро░рпНро╡рпБ (10 роородро┐рокрпНрокрпЖрогрпН)</h1>

<div class="info-box" id="infoBox">
  <h3>рооро╛рогро╡ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h3>
  <input type="text" id="studentName" placeholder="рокрпЖропро░рпН"><br>
  <input type="text" id="studentClass" placeholder="ро╡роХрпБрокрпНрокрпБ рооро▒рпНро▒рпБроорпН рокро┐ро░ро┐ро╡рпБ (роО.роХро╛., 9A)"><br>
  <input type="text" id="studentSchool" placeholder="рокро│рпНро│ро┐ рокрпЖропро░рпН"><br><br>
  <button id="startBtn" onclick="startQuiz()">родрпКроЯроЩрпНроХрпБ тЮбя╕П</button>
</div>

<div id="quizArea" style="display:none;">
  <div id="scoreboard">роородро┐рокрпНрокрпЖрогрпН: 0 / 10</div>
  <div id="timer">тП▒я╕П роирпЗро░роорпН: 60</div>
  <div id="quiz" class="card"></div>

  <div style="margin-top:8px;">
    <button id="nextBtn" onclick="nextQuestion()">роЕроЯрпБродрпНрод ро╡ро┐ройро╛ тЮбя╕П</button>
    <button id="downloadBtn" style="display:none;" onclick="downloadPDF()">ЁЯУД PDF рокродро┐ро╡ро┐ро▒роХрпНроХ</button>
  </div>
</div>

<script>
const bank = [
  { sentence:`50000 + 300 + 70 + 5 роЗройрпН роЪрпБро░рпБроЩрпНроХро┐роп ро╡роЯро┐ро╡роорпН.`, chapter:`роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ`, options:[`53750`,`50375`,`53075`,`57305`], answerText:`50375`, explanation:`50000 + 300 + 70 + 5 = 50375.` },  
  { sentence:`826 роЗройрпН ро╡ро┐ро░ро┐ро╡ро╛роХрпНроХ ро╡роЯро┐ро╡роорпН?`, chapter:`роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ`, options:[`800 + 20 + 6`,`820 + 6`,`80 + 26`,`8 + 26`], answerText:`800 + 20 + 6`, explanation:`826 = 800 + 20 + 6.` },  
  { sentence:`рооро┐роХроЪрпН роЪро┐ро▒ро┐роп роОроЯрпНроЯроХрпНроХ роОрогрпН роОродрпБ?`, chapter:`роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ`, options:[`10000000`,`9999999`,`1000000`,`11111111`], answerText:`10000000`, explanation:`1роХрпНроХрпБ рокро┐ройрпН 7 рокрпВроЬрпНроЬро┐ропроЩрпНроХро│рпН = 10000000.` },  
  { sentence:`35 рооро▒рпНро▒рпБроорпН 28 роЗро╡ро▒рпНро▒ро┐ро▓рпН рокрпЖро░ро┐роп роОрогрпН роОродрпБ?`, chapter:`роОрогрпНроХро│рпИ роТрокрпНрокро┐роЯрпБродро▓рпН`, options:[`28`,`35`,`25`,`38`], answerText:`35`, explanation:`35 > 28.` },  
  { sentence:`99999 рооро▒рпНро▒рпБроорпН 100001 роЗроЯрпИроорпИропро┐ро▓рпН роОрогрпН роОродрпБ?`, chapter:`роОрогрпНроХро│рпИ роТрокрпНрокро┐роЯрпБродро▓рпН`, options:[`99999`,`100000`,`100001`,`100002`], answerText:`100000`, explanation:`100000 родро╛ройрпН роироЯрпБро╡ро┐ро▓рпН ро╡ро░рпБроорпН.` },  
  { sentence:`45 + 33 = ?`, chapter:`роХрпВроЯрпНроЯро▓рпН`, options:[`68`,`78`,`76`,`66`], answerText:`78`, explanation:`45 + 33 = 78.` },  
  { sentence:`233 + 125 = ?`, chapter:`роХрпВроЯрпНроЯро▓рпН`, options:[`358`,`348`,`363`,`354`], answerText:`358`, explanation:`233 + 125 = 358.` },  
  { sentence:`26 тИТ 14 = ?`, chapter:`роХро┤ро┐родрпНродро▓рпН`, options:[`10`,`12`,`11`,`14`], answerText:`12`, explanation:`26 тИТ 14 = 12.` },  
  { sentence:`374 тИТ 122 = ?`, chapter:`роХро┤ро┐родрпНродро▓рпН`, options:[`252`,`254`,`251`,`253`], answerText:`252`, explanation:`374 тИТ 122 = 252.` },  
  { sentence:`8 ├Ч 2 = ?`, chapter:`рокрпЖро░рпБроХрпНроХро▓рпН`, options:[`16`,`18`,`14`,`10`], answerText:`16`, explanation:`8 ├Ч 2 = 16.` },  
  { sentence:`48 ├Ч 15 = ?`, chapter:`рокрпЖро░рпБроХрпНроХро▓рпН`, options:[`720`,`820`,`620`,`7120`], answerText:`720`, explanation:`48 ├Ч 15 = 720.` },  
  { sentence:`25 ├Ч 15 = ?`, chapter:`рокрпЖро░рпБроХрпНроХро▓рпН`, options:[`375`,`325`,`350`,`400`], answerText:`375`, explanation:`25 ├Ч 15 = 375.` },  
  { sentence:`78 ├Ч 57 = ?`, chapter:`рокрпЖро░рпБроХрпНроХро▓рпН`, options:[`4446`,`4450`,`4420`,`4470`], answerText:`4446`, explanation:`78 ├Ч 57 = 4446.` },  
  { sentence:`7ройрпН ро╡ро░рпНроХрпНроХ роОрогрпН роОродрпБ?`, chapter:`ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН`, options:[`49`,`14`,`7`,`77`], answerText:`49`, explanation:`7 ├Ч 7 = 49.` },  
  { sentence:`64 роОройрпНрокродрпБ роОроирпНрод роОрогрпНрогро┐ройрпН ро╡ро░рпНроХрпНроХроорпН?`, chapter:`ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН`, options:[`6`,`7`,`8`,`9`], answerText:`8`, explanation:`8 ├Ч 8 = 64.` },  
  { sentence:`81 роОройрпНрокродрпБ роОроирпНрод роОрогрпНрогро┐ройрпН ро╡ро░рпНроХрпНроХроорпН?`, chapter:`ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН`, options:[`8`,`9`,`10`,`7`], answerText:`9`, explanation:`9 ├Ч 9 = 81.` },  
  { sentence:`2 рооро▒рпНро▒рпБроорпН 3 роЗройрпН LCM роОройрпНрой?`, chapter:`LCM/HCF`, options:[`6`,`5`,`12`,`9`], answerText:`6`, explanation:`LCM(2,3) = 6.` },  
  { sentence:`20 рооро▒рпНро▒рпБроорпН 28 роЗройрпН HCF роОройрпНрой?`, chapter:`LCM/HCF`, options:[`4`,`2`,`8`,`6`], answerText:`4`, explanation:`HCF(20,28) = 4.` },  
  { sentence:`32 ├╖ 4 = ?`, chapter:`ро╡роХрпБродрпНродро▓рпН`, options:[`8`,`6`,`9`,`7`], answerText:`8`, explanation:`32 ├╖ 4 = 8.` },  
  { sentence:`975 ├╖ 25 = ?`, chapter:`ро╡роХрпБродрпНродро▓рпН`, options:[`39`,`37`,`40`,`41`], answerText:`39`, explanation:`975 ├╖ 25 = 39.` },  
  { sentence:`15/25 роЗройрпН роЪрпБро░рпБроЩрпНроХро┐роп ро╡роЯро┐ро╡роорпН роОройрпНрой?`, chapter:`рокро┐ройрпНрой роОрогрпНроХро│рпН`, options:[`3/5`,`5/3`,`1/5`,`15/25`], answerText:`3/5`, explanation:`Divide numerator & denominator by 5.` },  
  { sentence:`(1/2) ├Ч (7/3) = ?`, chapter:`рокро┐ройрпНрой роОрогрпНроХро│рпН`, options:[`7/6`,`2/5`,`3/14`,`14/3`], answerText:`7/6`, explanation:`(1├Ч7)/(2├Ч3)=7/6.` },  
  { sentence:`7/2 роЗройрпН родроЪроо ро╡роЯро┐ро╡роорпН?`, chapter:`рокро┐ройрпНрой роОрогрпНроХро│рпН`, options:[`3.5`,`1.75`,`2.5`,`3.25`], answerText:`3.5`, explanation:`7 ├╖ 2 = 3.5.` },  
  { sentence:`1532 ├╖ 100 роЗройрпН родроЪроо ро╡роЯро┐ро╡роорпН?`, chapter:`родроЪроо роОрогрпНроХро│рпН`, options:[`15.32`,`1.532`,`153.2`,`1532`], answerText:`15.32`, explanation:`1532 ├╖ 100 = 15.32.` },  
  { sentence:`12/10 роЗройрпН родроЪроо ро╡роЯро┐ро╡роорпН?`, chapter:`родроЪроо роОрогрпНроХро│рпН`, options:[`1.2`,`12.0`,`0.12`,`10.12`], answerText:`1.2`, explanation:`12 ├╖ 10 = 1.2.` },  
  { sentence:`1000 рооро┐.роорпА = ? роорпА`, chapter:`роЕро│ро╡рпБроХро│рпН`, options:[`1 роорпА`,`10 роорпА`,`0.1 роорпА`,`100 роорпА`], answerText:`1 роорпА`, explanation:`1000 mm = 1 m.` },  
  { sentence:`5000 роорпА = ? роХро┐.роорпА`, chapter:`роЕро│ро╡рпБроХро│рпН`, options:[`5 роХро┐.роорпА`,`50 роХро┐.роорпА`,`0.5 роХро┐.роорпА`,`500 роХро┐.роорпА`], answerText:`5 роХро┐.роорпА`, explanation:`1000 m = 1 km.` },  
  { sentence:`1750 рооро┐ро▓рпНро▓ро┐ = ? ро▓ро┐роЯрпНроЯро░рпН`, chapter:`роЕро│ро╡рпБроХро│рпН`, options:[`1.5 ро▓ро┐`,`1.25 ро▓ро┐`,`1.75 ро▓ро┐`,`2 ро▓ро┐`], answerText:`1.75 ро▓ро┐`, explanation:`1750 ml = 1.75 L.` },  
  /* Algebra & equations */  
  { sentence:`2x + 3x = ?`, chapter:`роЖро▓рпНроЬрпАрокрпНро░ро╛`, options:[`5x`,`6x`,`x^2`,`x^5`], answerText:`5x`, explanation:`2x+3x=5x.` },  
  { sentence:`x = 4 роОройрпНро▒ро╛ро▓рпН 3x + 2 = ?`, chapter:`роЖро▓рпНроЬрпАрокрпНро░ро╛`, options:[`14`,`12`,`10`,`16`], answerText:`14`, explanation:`3├Ч4+2=14.` },  
  { sentence:`x^2 + 17x + 72 роЗройрпН роХро╛ро░рогро┐роХро│рпН?`, chapter:`роЖро▓рпНроЬрпАрокрпНро░ро╛`, options:[`(x+9)(x+8)`,`(x-9)(x+8)`,`(x+9)(x-8)`,`(x-9)(x-8)`], answerText:`(x+9)(x+8)`, explanation:`9+8=17 and 9├Ч8=72.` },  
  /* Geometry */  
  { sentence:`роорпБроХрпНроХрпЛрогродрпНродро┐ройрпН роЙро│рпНро│роХ роХрпЛрогроЩрпНроХро│ро┐ройрпН роХрпВроЯрпНроЯрпБродрпНродрпКроХрпИ роОройрпНрой?`, chapter:`роорпБроХрпНроХрпЛрогроорпН`, options:[`180┬░`,`90┬░`,`270┬░`,`360┬░`], answerText:`180┬░`, explanation:`Sum of internal angles = 180┬░.` },  
  { sentence:`a=3, b=4 роОройрпНро▒ро╛ро▓рпН c (Pythagoras) ?`, chapter:`рокрпИродроХрпЛро░ро╕рпН`, options:[`5`,`6`,`7`,`4`], answerText:`5`, explanation:`тИЪ(3┬▓+4┬▓)=5.` },  
  { sentence:`роТро░рпБ роЪродрпБро░родрпНродро┐ройрпН рокроХрпНроХро│ро╡рпБ 12 cm роОройрпНро▒ро╛ро▓рпН рокро░рокрпНрокро│ро╡рпБ?`, chapter:`рокро░рокрпНрокро│ро╡рпБ`, options:[`144 cm┬▓`,`120 cm┬▓`,`100 cm┬▓`,`150 cm┬▓`], answerText:`144 cm┬▓`, explanation:`12 ├Ч 12 = 144.` },  
  { sentence:`10 cm ├Ч 7 cm роЪродрпБро░родрпНродро┐ройрпН роЪрпБро▒рпНро▒ро│ро╡рпБ?`, chapter:`роиро┐ро▓ро╡ро┐ропро▓рпН`, options:[`34 cm`,`30 cm`,`32 cm`,`28 cm`], answerText:`34 cm`, explanation:`2(l+b)=34.` },  
  { sentence:`ро╡роЯрпНроЯродрпНродро┐ройрпН роЖро░роорпН r=7 cm роЖроХро┐ро▓рпН рокро░рокрпНрокрпБ (╧А=22/7)?`, chapter:`ро╡роЯрпНроЯроорпН`, options:[`154 cm┬▓`,`140 cm┬▓`,`616 cm┬▓`,`308 cm┬▓`], answerText:`154 cm┬▓`, explanation:`22/7 ├Ч 7 ├Ч 7 = 154.` },  
  { sentence:`box l=10 b=5 h=4 рокро░рпБрооройрпН?`, chapter:`рокро░рпБрооройрпН`, options:[`200 cm┬│`,`150 cm┬│`,`300 cm┬│`,`250 cm┬│`], answerText:`200 cm┬│`, explanation:`10├Ч5├Ч4=200.` },  
  /* Data handling & trig */  
  { sentence:`Data: 2,4,4,5,5,5,6,6,7 роЗройрпН роорпЛроЯрпН?`, chapter:`рокрпБро│рпНро│ро┐ро╡ро┐рокро░роорпН`, options:[`5`,`6`,`4`,`7`], answerText:`5`, explanation:`5 occurs most.` },  
  { sentence:`роорпКродрпНродроорпН=45,count=9 роОройрпНро▒ро╛ро▓рпН роорпАройрпН?`, chapter:`рокрпБро│рпНро│ро┐ро╡ро┐рокро░роорпН`, options:[`5`,`6`,`4`,`7`], answerText:`5`, explanation:`45/9=5.` },  
  { sentence:`sin┬▓╬╕ + cos┬▓╬╕ = ?`, chapter:`роХрпЛрогрооро┐родро┐`, options:[`1`,`0`,`2`,`tan╬╕`], answerText:`1`, explanation:`Identity.` },  
  { sentence:`tan╬╕ = ?`, chapter:`роХрпЛрогрооро┐родро┐`, options:[`sin╬╕/cos╬╕`,`cos╬╕/sin╬╕`,`1/cos╬╕`,`1/sin╬╕`], answerText:`sin╬╕/cos╬╕`, explanation:`tan = sin/cos.` },  
  /* more number theory and misc */  
  { sentence:`121 роОроирпНрод роОрогрпНрогро╛ро▓рпН ро╡роХрпБрокроЯрпБроорпН?`, chapter:`ро╡роХрпБрокроЯрпБроорпН родройрпНроорпИ`, options:[`11`,`5`,`7`,`9`], answerText:`11`, explanation:`121=11├Ч11.` },  
  { sentence:`48 ├╖ 6 = ?`, chapter:`ро╡роХрпБродрпНродро▓рпН`, options:[`8`,`6`,`7`,`9`], answerText:`8`, explanation:`48/6=8.` },  
  { sentence:`3/4 + 1/4 = ?`, chapter:`рокро┐ройрпНрой роОрогрпНроХро│рпН`, options:[`1`,`3/4`,`1/2`,`2`], answerText:`1`, explanation:`Fractions add to 1.` },  
  { sentence:`0.25 = ?`, chapter:`родроЪроо роОрогрпНроХро│рпН`, options:[`1/4`,`25/100`,`2/5`,`3/10`], answerText:`1/4`, explanation:`0.25 = 1/4.` },  
  { sentence:`Prime among 27,23,34,41,53?`, chapter:`роОрогрпН роЕро▓роорокрпНрокрпБ`, options:[`23`,`27`,`34`,`41`], answerText:`23`, explanation:`23 is prime.` },  
  { sentence:`Composite among 33,46,59,64,71?`, chapter:`роОрогрпН роЕро▓роорокрпНрокрпБ`, options:[`33`,`59`,`46`,`64`], answerText:`33`, explanation:`33 = 3├Ч11.` },  
  { sentence:`xтИТ9=3 роОройрпНро▒ро╛ро▓рпН x?`, chapter:`роЪрооройрпНрокро╛роЯрпБ`, options:[`12`,`9`,`6`,`3`], answerText:`12`, explanation:`x = 3+9 = 12.` },  
  { sentence:`2x=10 тЖТ x = ?`, chapter:`роЪрооройрпНрокро╛роЯрпБ`, options:[`5`,`4`,`6`,`3`], answerText:`5`, explanation:`10/2=5.` },  
  { sentence:`(4xтИТ3y)┬▓ = ?`, chapter:`роЖро▓рпНроЬрпАрокрпНро░ро╛`, options:[`16x┬▓тИТ24xy+9y┬▓`,`16x┬▓+24xy+9y┬▓`,`16x┬▓тИТ24xyтИТ9y┬▓`,`16x┬▓+24xyтИТ9y┬▓`], answerText:`16x┬▓тИТ24xy+9y┬▓`, explanation:`(4xтИТ3y)┬▓ expansion.` },  
  { sentence:`If x=2, x┬▓+3x+1 = ?`, chapter:`роЖро▓рпНроЬрпАрокрпНро░ро╛`, options:[`11`,`9`,`10`,`12`], answerText:`11`, explanation:`4+6+1=11.` },  
  { sentence:`Which is even: 24,35,48,41,60?`, chapter:`ро╡роХрпБрокроЯрпБроорпН родройрпНроорпИ`, options:[`48`,`35`,`41`,`24`], answerText:`48`, explanation:`48 is even.` },  
  { sentence:`Is 81 a perfect square?`, chapter:`ро╡ро░рпНроХрпНроХ роОрогрпНроХро│рпН`, options:[`роЖроорпН`,`роЗро▓рпНро▓рпИ`,`роЪро┐ро▓роорпБро▒рпИ`,`родрпЖро░ро┐ропро╛родрпБ`], answerText:`роЖроорпН`, explanation:`9├Ч9=81.` },  
  { sentence:`LCM(9,12) = ?`, chapter:`LCM/HCF`, options:[`36`,`24`,`48`,`18`], answerText:`36`, explanation:`LCM=36.` },  
  { sentence:`HCF(15,25) = ?`, chapter:`LCM/HCF`, options:[`5`,`10`,`15`,`25`], answerText:`5`, explanation:`GCD=5.` },  
  { sentence:`Convert 1532/100 to decimal?`, chapter:`родроЪроо роОрогрпНроХро│рпН`, options:[`15.32`,`1.532`,`153.2`,`1532`], answerText:`15.32`, explanation:`1532/100=15.32.` },  
  { sentence:`1000 ml = ? liter`, chapter:`роЕро│ро╡рпБроХро│рпН`, options:[`1 L`,`100 L`,`0.1 L`,`10 L`], answerText:`1 L`, explanation:`1000 ml = 1 L'},  
  { sentence:`50000 + 300 + 70 + 5 роЗройрпН роЪрпБро░рпБроЩрпНроХро┐роп ро╡роЯро┐ро╡роорпН.`, chapter:`роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ`, options:[`53750`,`50375`,`53075`,`57305`], answerText:`50375`, explanation:`50000 + 300 + 70 + 5 = 50375.` },
  { sentence:`826 роЗройрпН ро╡ро┐ро░ро┐ро╡ро╛роХрпНроХ ро╡роЯро┐ро╡роорпН?`, chapter:`роОрогрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗроЯроородро┐рокрпНрокрпБ`, options:[`800 + 20 + 6`,`820 + 6`,`80 + 26`,`8 + 26`], answerText:`800 + 20 + 6`, explanation:`826 = 800 + 20 + 6.` },
  { sentence:`1000 ml = ? liter`, chapter:`роЕро│ро╡рпБроХро│рпН`, options:[`1 L`,`100 L`,`0.1 L`,`10 L`], answerText:`1 L`, explanation:`1000 ml = 1 L.` },
];

let student={},questions=[],currentIndex=0,current=null,score=0,timer=null,timeLeft=60,answers=[];
const TIME_PER_QUESTION=60;

/* ---- Start Quiz ---- */
function startQuiz(){
  student.name=document.getElementById("studentName").value.trim();
  student.class=document.getElementById("studentClass").value.trim();
  student.school=document.getElementById("studentSchool").value.trim();
  student.date=new Date().toLocaleDateString('ta-IN');

  if(!student.name||!student.class||!student.school){
    alert("тЭЧ роЕройрпИродрпНродрпИропрпБроорпН роиро┐ро░рокрпНрокро╡рпБроорпН (рокрпЖропро░рпН, ро╡роХрпБрокрпНрокрпБ, рокро│рпНро│ро┐).");
    return;
  }
  questions=bank.slice().sort(()=>0.5-Math.random()).slice(0,10);
  document.getElementById("infoBox").style.display="none";
  document.getElementById("quizArea").style.display="block";
  score=0;currentIndex=0;answers=[];
  nextQuestion();
}

/* ---- Next Question ---- */
function nextQuestion(){
  clearInterval(timer);
  if(currentIndex>=questions.length){finishQuiz();return;}
  current=questions[currentIndex];
  timeLeft=TIME_PER_QUESTION;
  document.getElementById("scoreboard").textContent=`роородро┐рокрпНрокрпЖрогрпН: ${score} / 10`;
  document.getElementById("timer").textContent=`тП▒я╕П роирпЗро░роорпН: ${timeLeft}`;
  const quiz=document.getElementById("quiz");
  quiz.innerHTML=`
    <h3>${currentIndex+1}. ${current.sentence}</h3>
    <p class="small"><b>роЕро▓роХрпБ:</b> ${current.chapter}</p>
    ${current.options.map((o)=>`<button class="option-btn" data-opt="${o}" onclick="checkAnswer(this.dataset.opt)">${o}</button>`).join('')}
    <p class="small">роХро╛ро▓ ро╡ро░роорпНрокрпБ: ${TIME_PER_QUESTION} ро╡ро┐ройро╛роЯро┐роХро│рпН</p>`;
  timer=setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").textContent=`тП▒я╕П роирпЗро░роорпН: ${timeLeft}`;
    if(timeLeft<=0){
      clearInterval(timer);
      recordAnswer("роирпЗро░роорпН роорпБроЯро┐роирпНродродрпБ",false);
      alert("тП░ роирпЗро░роорпН роорпБроЯро┐роирпНродродрпБ!\nроЪро░ро┐ропро╛рой рокродро┐ро▓рпН: "+current.answerText);
      currentIndex++;nextQuestion();
    }
  },1000);
}

/* ---- Check Answer ---- */
function checkAnswer(option){
  clearInterval(timer);
  const correct=option===current.answerText;
  if(correct)score++;
  recordAnswer(option,correct);
  alert((correct?"тЬЕ роЪро░ро┐ропро╛рой рокродро┐ро▓рпН!":"тЭМ родро╡ро▒рпБ!")+"\nро╡ро┐ро│роХрпНроХроорпН: "+current.explanation);
  currentIndex++;nextQuestion();
}

/* ---- Record ---- */
function recordAnswer(sel,correct){
  answers.push({question:current.sentence,yourAnswer:sel,correctAnswer:current.answerText,isCorrect:correct});
}

/* ---- Finish ---- */
function finishQuiz(){
  clearInterval(timer);
  const pct=Math.round((score/10)*100);
  const grade=gradeFromPercent(pct);
  document.getElementById("quiz").innerHTML=`
    <h2>ЁЯОЙ рокро░рпАроЯрпНроЪрпИ роорпБроЯро┐роирпНродродрпБ!</h2>
    <p>роородро┐рокрпНрокрпЖрогрпН: ${score} / 10</p>
    <p>роЪродро╡рпАродроорпН: ${pct}%</p>
    <p>роородро┐рокрпНрокрпАроЯрпБ: ${grade}</p>`;
  document.getElementById("nextBtn").style.display="none";
  document.getElementById("downloadBtn").style.display="inline-block";
}

function gradeFromPercent(p){
  if(p>=90)return"A+";
  if(p>=80)return"A";
  if(p>=70)return"B";
  if(p>=60)return"C";
  if(p>=50)return"D";
  return"F";
}

/* ---- PDF ---- */
async function downloadPDF(){
  const {jsPDF}=window.jspdf;
  const doc=new jsPDF();
  doc.setFontSize(13);
  let y=15;
  doc.text("9роорпН ро╡роХрпБрокрпНрокрпБ тАФ роХрогро┐род (10 роородро┐рокрпНрокрпЖрогрпН) роорпБроЯро┐ро╡рпБ",20,y);y+=10;
  doc.text(`рокрпЖропро░рпН: ${student.name}`,10,y);y+=6;
  doc.text(`ро╡роХрпБрокрпНрокрпБ/рокро┐ро░ро┐ро╡рпБ: ${student.class}`,10,y);y+=6;
  doc.text(`рокро│рпНро│ро┐: ${student.school}`,10,y);y+=6;
  doc.text(`родрпЗродро┐: ${student.date}`,10,y);y+=10;
  answers.forEach((a,i)=>{
    if(y>270){doc.addPage();y=15;}
    doc.text(`${i+1}. ${a.question}`,10,y);y+=6;
    doc.text(`   роЙроЩрпНроХро│рпН рокродро┐ро▓рпН: ${a.yourAnswer}`,12,y);y+=5;
    doc.text(`   роЪро░ро┐ропро╛рой рокродро┐ро▓рпН: ${a.correctAnswer}`,12,y);y+=5;
    doc.text(`   роиро┐ро▓рпИ: ${(a.isCorrect?"роЪро░ро┐":"родро╡ро▒рпБ")}`,12,y);y+=7;
  });
  const pct=Math.round((score/10)*100);
  const grade=gradeFromPercent(pct);
  y+=6;
  doc.text(`роорпКродрпНрод роородро┐рокрпНрокрпЖрогрпН: ${score}/10`,10,y);y+=6;
  doc.text(`роЪродро╡рпАродроорпН: ${pct}%`,10,y);y+=6;
  doc.text(`роородро┐рокрпНрокрпАроЯрпБ: ${grade}`,10,y);
  doc.save(`${student.name||'student'}_Maths_Quiz.pdf`);
}
</script>

<div class="footer">┬й 2025 Thiraviya Kumar | Class 9 Tamil Medium Maths Quiz</div>
</body>
</html>
